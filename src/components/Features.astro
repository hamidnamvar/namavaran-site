---
import { Image } from 'astro:assets';
import { Icon } from 'astro-icon/components';
import featureImage1 from '../assets/feature-1.svg';
import featureImage2 from '../assets/feature-2.svg';
import featureImage3 from '../assets/feature-3.svg';

const features = [
  {
    title: "Become indispensable",
    description: "Adding a payroll solution on top of your existing features means your customers can get everything done inside their favorite platform: yours.",
    icon: "ph:star-duotone",
    image: featureImage1,
  },
  {
    title: "Access the most modern tools",
    description: "We haven't just replicated what's out there â€“ we've leveled up. Our infrastructure is faster to set up, easier to maintain, more scalable and less error-prone.",
    icon: "ph:lightning-duotone",
    image: featureImage2,
  },
  {
    title: "Now available in the U.S. & Canada",
    description: "Launch your product out in the world within just a few weeks and get fast, valuable feedback from customers to keep growing.",
    icon: "ph:globe-duotone",
    image: featureImage3,
  },
];
---

<section class="py-20 bg-gradient-to-b from-white to-payflo-gray relative overflow-hidden">
  <!-- Subtle background pattern with parallax effect -->
  <div class="absolute inset-0 opacity-5 parallax" data-speed="0.1">
    <div class="absolute inset-0 bg-repeat" style="background-image: url('/grid-pattern.svg');"></div>
  </div>
  
  <div class="container-custom relative">
    <div class="text-center max-w-3xl mx-auto">
      <h2 class="animate-on-scroll delay-0 text-3xl md:text-4xl font-bold">
        Everything you need to build embedded payroll
      </h2>
      <p class="animate-on-scroll delay-1 mt-4 text-xl text-gray-600">
        Our tools combine ease and flexibility with maximum customization. No matter how you choose to build, you can launch quickly and ensure a stellar user experience.
      </p>
    </div>
    
    <div class="mt-16 grid grid-cols-1 md:grid-cols-3 gap-8">
      {features.map((feature, index) => (
        <div class={`feature-card animate-on-scroll delay-${index + 2} group`}>
          <div class="h-12 w-12 rounded-lg bg-gradient-to-r from-rich-green to-payflo-blue flex items-center justify-center text-white mb-6 transition-transform duration-300 group-hover:scale-110">
            <Icon name={feature.icon} class="h-6 w-6 transition-transform duration-300 group-hover:rotate-12" />
          </div>
          <h3 class="text-xl font-semibold transition-colors duration-300 group-hover:text-rich-green">{feature.title}</h3>
          <p class="mt-3 text-gray-600">{feature.description}</p>
          <div class="mt-6 hover-zoom rounded-lg overflow-hidden">
            <Image 
              src={feature.image} 
              alt={feature.title}
              class="w-full h-auto rounded-lg transition-all duration-500"
              width={300}
              height={200}
            />
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
